[gd_scene load_steps=2 format=3 uid="uid://bqxvxqxqxqxqx"]

[ext_resource type="Script" uid="uid://bme6hpjby01g7" path="res://UI/combat_ui.gd" id="1_combat_ui"]

[node name="CombatUI" type="CanvasLayer"]
script = ExtResource("1_combat_ui")

[node name="CombatLogPanel" type="Panel" parent="."]
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -600.0
offset_top = -620.0
offset_bottom = -520.0

[node name="VBoxContainer" type="VBoxContainer" parent="CombatLogPanel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 10.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2

[node name="CombatLogLabel" type="Label" parent="CombatLogPanel/VBoxContainer"]
layout_mode = 2
text = "COMBAT LOG"
horizontal_alignment = 1
vertical_alignment = 1

[node name="HSeparator" type="HSeparator" parent="CombatLogPanel/VBoxContainer"]
layout_mode = 2

[node name="CombatLogText" type="TextEdit" parent="CombatLogPanel/VBoxContainer"]
custom_minimum_size = Vector2(0, 180)
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
placeholder_text = "Combat events will appear here..."
editable = false
context_menu_enabled = false
shortcut_keys_enabled = false
selecting_enabled = false
deselect_on_focus_loss_enabled = false
drag_and_drop_selection_enabled = false
virtual_keyboard_enabled = false
middle_mouse_paste_enabled = false

[node name="CombatPanel" type="Panel" parent="."]
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -600.0
offset_top = -500.0

[node name="VBoxContainer" type="VBoxContainer" parent="CombatPanel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 10.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2

[node name="TitleLabel" type="Label" parent="CombatPanel/VBoxContainer"]
layout_mode = 2
text = "COMBAT"
horizontal_alignment = 1
vertical_alignment = 1

[node name="HSeparator1" type="HSeparator" parent="CombatPanel/VBoxContainer"]
layout_mode = 2

[node name="TurnInfoSection" type="VBoxContainer" parent="CombatPanel/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="TurnInfoLabel" type="Label" parent="CombatPanel/VBoxContainer/TurnInfoSection"]
layout_mode = 2
text = "Turn: Player"
horizontal_alignment = 1

[node name="HSeparator2" type="HSeparator" parent="CombatPanel/VBoxContainer"]
layout_mode = 2

[node name="ATBSection" type="VBoxContainer" parent="CombatPanel/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="ATBStatusLabel" type="Label" parent="CombatPanel/VBoxContainer/ATBSection"]
layout_mode = 2
text = "‚è≥ ATB bar filling... (0%)"
horizontal_alignment = 1

[node name="PlayerATBBar" type="ProgressBar" parent="CombatPanel/VBoxContainer/ATBSection"]
custom_minimum_size = Vector2(0, 20)
layout_mode = 2
size_flags_horizontal = 3
show_percentage = false

[node name="PlayerATBLabel" type="Label" parent="CombatPanel/VBoxContainer/ATBSection"]
layout_mode = 2
text = "Player ATB"
horizontal_alignment = 1

[node name="EnemyATBBar" type="ProgressBar" parent="CombatPanel/VBoxContainer/ATBSection"]
custom_minimum_size = Vector2(0, 20)
layout_mode = 2
size_flags_horizontal = 3
show_percentage = false

[node name="EnemyATBLabel" type="Label" parent="CombatPanel/VBoxContainer/ATBSection"]
layout_mode = 2
text = "Enemy ATB"
horizontal_alignment = 1

[node name="HSeparator3" type="HSeparator" parent="CombatPanel/VBoxContainer"]
layout_mode = 2

[node name="ActionsSection" type="VBoxContainer" parent="CombatPanel/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="ActionsLabel" type="Label" parent="CombatPanel/VBoxContainer/ActionsSection"]
layout_mode = 2
text = "ACTIONS"
horizontal_alignment = 1
vertical_alignment = 1

[node name="BasicAttackButton" type="Button" parent="CombatPanel/VBoxContainer/ActionsSection"]
layout_mode = 2
size_flags_horizontal = 3
text = "Basic Attack"

[node name="DefendButton" type="Button" parent="CombatPanel/VBoxContainer/ActionsSection"]
layout_mode = 2
size_flags_horizontal = 3
text = "Defend"

[node name="ItemButton" type="Button" parent="CombatPanel/VBoxContainer/ActionsSection"]
layout_mode = 2
size_flags_horizontal = 3
text = "Use Item"

[node name="SpecialAttacksButton" type="Button" parent="CombatPanel/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "Special Attacks"

[node name="SpellsButton" type="Button" parent="CombatPanel/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "Spells"

[node name="HSeparator4" type="HSeparator" parent="CombatPanel/VBoxContainer"]
layout_mode = 2

[node name="SpecialAttacksPopup" type="Panel" parent="."]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -250.0
offset_top = -200.0
offset_right = 250.0
offset_bottom = 200.0

[node name="VBoxContainer" type="VBoxContainer" parent="SpecialAttacksPopup"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 10.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2

[node name="TitleLabel" type="Label" parent="SpecialAttacksPopup/VBoxContainer"]
layout_mode = 2
text = "SPECIAL ATTACKS"
horizontal_alignment = 1
vertical_alignment = 1

[node name="HSeparator" type="HSeparator" parent="SpecialAttacksPopup/VBoxContainer"]
layout_mode = 2

[node name="ScrollContainer" type="ScrollContainer" parent="SpecialAttacksPopup/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="VBoxContainer" type="VBoxContainer" parent="SpecialAttacksPopup/VBoxContainer/ScrollContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="HaymakerButton" type="Button" parent="SpecialAttacksPopup/VBoxContainer/ScrollContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
tooltip_text = "A powerful haymaker punch that deals guaranteed critical damage but causes self-damage"
text = "Haymaker (15 SP)"

[node name="HSeparator2" type="HSeparator" parent="SpecialAttacksPopup/VBoxContainer"]
layout_mode = 2

[node name="CloseButton" type="Button" parent="SpecialAttacksPopup/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "Close"

[node name="SpellsPopup" type="Panel" parent="."]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -250.0
offset_top = -200.0
offset_right = 250.0
offset_bottom = 200.0

[node name="VBoxContainer" type="VBoxContainer" parent="SpellsPopup"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 10.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2

[node name="TitleLabel" type="Label" parent="SpellsPopup/VBoxContainer"]
layout_mode = 2
text = "SPELLS"
horizontal_alignment = 1
vertical_alignment = 1

[node name="HSeparator" type="HSeparator" parent="SpellsPopup/VBoxContainer"]
layout_mode = 2

[node name="ScrollContainer" type="ScrollContainer" parent="SpellsPopup/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="VBoxContainer" type="VBoxContainer" parent="SpellsPopup/VBoxContainer/ScrollContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="FireballButton" type="Button" parent="SpellsPopup/VBoxContainer/ScrollContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
tooltip_text = "A ranged fire spell that deals fire damage and may ignite the target"
text = "Fireball (15 MP)"

[node name="HSeparator2" type="HSeparator" parent="SpellsPopup/VBoxContainer"]
layout_mode = 2

[node name="CloseButton" type="Button" parent="SpellsPopup/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "Close"
